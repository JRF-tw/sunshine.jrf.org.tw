= render layout: 'components/score_card',
  locals: { status: @status, type: 'schedule' }
  - max_steps = 4

  - case @status
  - when 'checked_info'
    = render 'components/input_score_date',
      step_text: '輸入開庭日期', step_count: 2, max_steps: max_steps,
      form_for: @schedule_score,
      as: :schedule_score,
      form_url: checked_date_lawyer_score_schedules_path,
      prev_url: new_lawyer_score_schedule_path(schedule_score: params[:schedule_score]),
      prev_url_method: :get

  - when 'checked_date'
    = render 'components/input_score_judge',
      step_text: '輸入法官姓名', step_count: 3, max_steps: max_steps,
      form_for: @schedule_score,
      as: :schedule_score,
      form_url: checked_judge_lawyer_score_schedules_path,
      prev_url: checked_info_lawyer_score_schedules_path(schedule_score: params[:schedule_score]),
      prev_url_method: :post

  - when 'checked_judge'
    = render layout: 'components/input_score_start', locals: {\
      step_text: '開庭流程評鑑', step_count: 4, max_steps: max_steps,
      form_for: @schedule_score,
      as: :schedule_score,
      form_url: lawyer_score_schedules_path\
    } do |f|
      = render 'components/input_score', f: f,
        label: '訴訟指揮評分', options: :command_score
      = render 'components/input_score', f: f,
        label: '開庭態度評分', options: :attitude_score

  - when 'thanks_scored'
    = render layout: 'components/schedule_thanks_scored', locals: {\
      form_url: checked_date_lawyer_score_schedules_path,
      path_to_root: lawyer_root_path\
    }
      / = '這邊可以放每個不同角色特有的 code'
      = check_box_tag :subscribe_story, toggle_lawyer_subscribe_path(@record.story, format: :js), already_subscribed_story?(current_lawyer, @record.story), class: "js-subscribe-story"
      = label_tag "subscribe_story", "是否同意我們在下一次開庭或判決書公布時用email通知您？"
    p
      = check_box_tag :subscribe_edm, toggle_subscribe_lawyer_edm_path(format: :js), current_lawyer.subscribe_edm, class: "js-subscribe-edm"
      = label_tag "subscribe_edm", "是否同意訂閱電子報？"

  - else
    = render 'components/input_score_info',
      step_text: '選擇法院/案號', step_count: 1, max_steps: max_steps,
      as: :schedule_score,
      form_for: @schedule_score,
      form_url: checked_info_lawyer_score_schedules_path
