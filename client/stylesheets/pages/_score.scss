$radio-height: 55px;
$star-size: 34px;

.form--score {
  @include susy($tablet) {
    display: flex;
    justify-content: space-between;
    padding: n() r(4) r(2);
  }
}
.form--score__preview {
  display: none;
  @include susy($tablet) {
    display: block;
    padding-right: r(6);
    width: 50%;

    .control-label.disabled,
    .select:disabled,
    .readonly,
    .readonly .control-label,
    .chosen-disabled .chosen-single { color: $text-color !important; }
    .chosen-disabled { opacity: 1 !important; }
  }
}
.form--score__editor {
  @include susy($tablet) {
    display: flex;
    flex-flow: column nowrap;
    padding-left: r(6);
    width: 50%;
    border-left: 1px solid $divider-gray;

    .form-actions { margin-top: auto; }
  }
}

.form-group--scores-name {
  margin: 0 n() r(2);
}
.form-group--scores {
  margin: r(2) n();
  padding-left: 0;
  list-style-position: inside;
}
.form-group--score { margin-bottom: r(2);}
.form-group--score__stars-wrapper {
  display: flex;
  flex-flow: row wrap;
  justify-content: space-around;
  position: relative;

  [type='radio'] {
    @include Normalize();
    display: inline-block;
    height: $radio-height;
    flex: 1;
    border: 1px solid transparent;
    opacity: 0;
    cursor: pointer;
    position: relative;

    @for $i from 1 through 10 {
      $value: $i * 0.5;
      $calc_value: if(str-length('#{$value}') < 3, '#{$value}.0', $value);
      &[value='#{$calc_value}']:hover ~ .form-group--score__stars {
        @for $j from 0 through floor($value) {
          .icon-star-full:nth-child(#{$j}) { opacity: 1;}
        }
        @for $k from 0 through round($value) {
          .icon-star-half:nth-child(#{$k}) { opacity: 1;}
        }
      }
      &[value='#{$calc_value}']:checked ~ .form-group--score__stars {
        @for $j from 0 through floor($value) {
          .icon-star-full:nth-child(#{$j}) { animation: bounceIn .5s ease-in-out 0s both; }
        }
        @for $k from 0 through round($value) {
          .icon-star-half:nth-child(#{$k}) { animation: bounceIn .5s ease-in-out 0s both; }
        }
      }
    }
  }
}
.form-group--score__label {
  $indent: 2;
  display: block;
  margin-bottom: r(1);
  padding-left: r($indent);
  text-indent: r(-$indent);
}
.form-group--score__stars {
  position: absolute round(($radio-height - $star-size)/2) 0 n() 0;
  pointer-events: none;

  .stars-wrapper {
    display: flex;
    justify-content: space-around;
    position: absolute 0 0 n() 0;
  }

  .icon {
    size: 34px;
  }

  .icon-star-full, .icon-star-half {
    opacity: 0;
    fill: url(#radialGradient-star);
  }
  .icon-star-o { fill: $divider-gray; }
}
