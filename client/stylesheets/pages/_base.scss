$mobile-portrait: (
  orientation: portrait,
  max-width: '767px',
);
$mobile-landscape: (
  orientation: landscape,
  max-width: '767px',
);
$mobile-search-bar-height: 195px;

.base-hero { position: relative; }

.base-hero-carousel {
  position: relative;
  z-index: index($layers, base);

  &::before {
    content: "";
    position: absolute 0 0 0 0;
    z-index: index($layers, hero-cover);
    background-image: radial-gradient(circle farthest-corner, rgba(0,0,0,0.2), rgba(0,0,0,.7));
  }
}
.base-hero-carousel__cell {
  @include susy-media($mobile-portrait) {
    height: 100vh;
    position: relative;
  }
}
.base-hero-carousel__image {
  @include susy-media($mobile-portrait) {
    position: absolute 0 n() n() -50%;
    max-width: none;
    size: auto 100% !important;
  }
}

.base-hero-content-wrapper {
  display: flex;
  flex-flow: column nowrap;
  position: absolute 0 0 n() 0;
  height: 100%;
  z-index: index($layers, hero-cover);
  @include susy-media($mobile-landscape) {
    height: calc(100% + #{$mobile-search-bar-height});
  }
}

.base-hero-content {
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: center;
  flex: 1;
  padding-top: r(2);
  @include susy($tablet) { padding-top: r(3); }
}
.base-hero-content__slogan {
  padding: n() r(2);
  margin-bottom: r(4);
  text: center ms(2) #fff;
}
.base-hero-content__button { font-size: ms(1); }

.base-hero-search {
  margin-top: auto;
  background-color: rgba(0,0,0,.3);
  @include susy-media($mobile-landscape) { background-color: rgba(#000, 0.7); }
  @include susy($tablet) {
    display: flex;
    justify-content: center;
    align-items: center;
  }
}
.base-hero-search__tabs {
  display: flex;
  justify-content: center;
  position: relative;
  padding: 0 r(2);
  @include susy($tablet) {
    min-width: 250px;
  }
}
.base-hero-search__tab {
  @include Normalize();
  padding: r(1) r(2);
  width: 50%;
  text: ms(1) 2 #fff;

  & + &::before {
    content: "";
    size: 1px r(3);
    background-color: currentColor;
    @include scut-center-transform();
  }

  &:last-child {
    &::after {
      content: "";
      size: calc(50% - #{r(2)}) 2px;
      background-color: $accent;
      position: absolute 0 n() n() r(2);
      transition: transform .3s ease 0s;
    }
    &.active::after { transform: translateX(100%); }
  }
}
.base-hero-search__contents {
}
.base-hero-search__content {
  @include toggle-show();
  overflow: visible !important;

  .search-form {
    padding: 0 n() r(2);
    @include susy($tablet) {
      padding-bottom: 0;
      max-width: none;
    }
  }
  .search-form__input {
    @include susy($tablet) {
      flex: 1 0 auto;
      width: auto;
    }
  }

  .chosen-with-drop .chosen-drop {
    left: 0;
    top: calc(100% + #{r(1)});
  }
}

.base-content-sections {
  margin-bottom: -80px;
  @include susy-media($mobile-landscape) {
    padding-top: $mobile-search-bar-height;
  }
} 

.base-content-section {
  padding: r(4) r(2) r(5);
  text: center;
  &:nth-child(odd) {
    color: $text-color #fff;
    &:last-child { border-bottom: 1px solid $divider-gray; }
  }
  &:nth-child(even) {
    $blur: 20px;
    $offset: 10px;
    $shadow-color: rgba(#000, .2);
    color: #fff $accent;
    box-shadow: inset 0px ($blur + $offset) $blur (-$blur) $shadow-color,
                inset 0px (-$blur - $offset) $blur (-$blur) $shadow-color;
    
    .flat-button { color: #fff !important; }
  }
  @include susy($tablet) {
    text: ms(1);
  }
}
.base-content-section__heading {
  @include susy($tablet) { font-size: ms(3); }
}